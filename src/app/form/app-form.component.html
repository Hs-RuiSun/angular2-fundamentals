<div>
  <label>user list</label>
  <ul>
    <li *ngFor="let user of users; let i=index">{{i}}, {{user.username}}</li>
  </ul>
</div>
<div>
  <form (ngSubmit)="onSubmit()" #signupForm="ngForm">
    <fieldset>
      <label>username</label>
      <input [(ngModel)]="user.username" name="username"
             #username="ngModel" required
             (keydown)="user.username=''"/>
      <div *ngIf="username.invalid" [style.font.color]="red">name is required</div>
    </fieldset>
    <fieldset>
      <label>password</label>
      <input [(ngModel)]="user.password" name="password"
             minlength="3" required #password="ngModel"/>
      <div *ngIf="password?.errors?.minlength">the password length must be more than 3</div>
    </fieldset>
    <fieldset>
      <label>nationality</label>
      <select [(ngModel)]="user.nationality" name="nationality">
        <option *ngFor="let nationality of nationalities"
                (selected)="user.nationality === nationality">
          {{nationality}}
        </option>
      </select>
    </fieldset>
    <fieldset>
      <label>category</label>
      <select [(ngModel)]="user.categoryid" name="categoryid" >
        <option *ngFor="let category of Category"
                [selected]="user.categoryid === category.id"
                value="{{category.id}}">{{category.name}}</option>
      </select>
    </fieldset>
    <input type="submit" value="submit" [disabled]="!signupForm.form.valid"/>
  </form>
</div>

<div>
  <label>log</label>
  <span *ngFor="let info of logger.infos">{{info}}</span>
</div>
